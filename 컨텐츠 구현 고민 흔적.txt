[리버레코]

1. 리버레코는 한 번에 한 개체만 되돌릴 수 있음

2. 리버레코를 준비 중에는 시간이 멈추면서 아주 약간의 카메라 회전만 가능함.

2. 리버레코 능력이 진행 중에는 플레이어는 아주 자유롭게 돌아다닐 수 있음. (디폴트와 다를 바 없음)

3. 리버레코 능력이 진행 중에 능력을 취소 할 수 있음.



리버레코를 준비하는(조준하는?) '상태'는 OK -> 이거까지? 문제는 없다.

(대부분의 동작이 디폴트랑 비슷한데 끊는 거 하나 때문에 비슷한 동작을 반복해서 구현해놓나? 이건 아님)



현재 내가 상태를 나누는 기준은 스틱을 움직였을 때, 동작이 다른 경우

디폴트 - 울트라핸드 - 리버레코 - 물체를 들어올린 경우



근데? 디폴트 - 리버레코는

준비 자세만 다르고 나머지 동작은 변함이 거의 없음



[리버레코 상태]는 물체를 선택하는 것만 하고

선택한 물체를 [리버레코 시스템] 같은 친구에게 넘겨서

'이새끼 되돌려라~' 하는 게 나을듯.

캔슬도 [디폴트 상태]에서 [리버레코 시스템]에 요청하는 식.



리버레코 동작 중인 물체에 울트라 핸드를 쓰려는 경우는??

원래는 리버레코 동작 중인 물체에 울트라 핸드를 사용하려 하면 리버레코가 취소 되어버림.

울트라 핸드로 물체를 잡으면 리버레코 상태인지 알아야 한다? 그래야 취소가 된다?


물체의 위치, 회전, 속도, 각속도를 어떻게 저장하느냐.

물리 정보를 물체가 저장을 할까?

그렇다고 하기엔 OnWake, OnSleep 이벤트 함수가 다 불리는 게 너무 맘에 안듬.
(저장을 멈추는 행위, 저장을 )


물리 정보의 변화량을 기준으로 저장?
특정 프레임 마다 저장?


이걸 매 프레임 확인하고 저장하는 절차를 가지는 게 맞는건가?


변화량 기준을 어떻게 잡고 저장을 하는가?

	0	1	2	3	4	5	...
d	0	10	20	40	45	60
v	0	10	10	20	5	15
a	0	10	0	10	-5	10

방향이 달라지거나



리버레코 울트라핸드 -> 속력으로 하는거 같긴 한데.

울트라핸드의 다른 점은 질량을 매우 낮춰서 (0.001)
속력을 줘도 다른 물체에 영향을 못 주도록 막은 게 아닌가.


질량을 높히고 속력으로 하면 가능? 반발 계수를 조절한다?

몇 프레임에 한 번씩 저장할지?
또는 위치랑 방향의 변화량?


우선 변화량 체크 하고 별 다른 거 없으면 프레임 단위로?

이전에 비해 변화가 크다면 그 시간 틱이랑 정보 저장하면 되지 않을까?






[울트라 핸드]

오브젝트를 잡고 오브젝트를 이동하는 로직을 어떻게 구현할까?

 - 레이캐스팅으로 오브젝트를 선택하면 오브젝트의 중력 적용을 지우고 질량을 매우 낮춘다.

 - Stick L과 Stick R의 역할을 구분한다.
	Stick L은 플레이어의 이동
	Stick R은 오브젝트의 이동 + D Pad도 오브젝트의 이동

	플레이어는 항상 오브젝트를 바라본다.
	플레이어의 이동은 자기가 바라보고 있는 방향을 기준으로 움직인다.
	플레이어의 이동은 오브젝트에도 동일한 작용을 한다.
	플레이어의 이동으로 오브젝트의 이동이 막혔을 때도 플레이어는 오브젝트를 향해 거리를 좁힐 수 있다.
		-> 오브젝트의 이동은 속력으로 이루어지며 
	
	Stick R의 상하좌우 조작은 오브젝트의 상하좌우 이동이 된다.
	오브젝트의 좌우 이동은 "항상" 플레이어 - 오브젝트의 수직 방향으로 이뤄진다. (플레이어 - 오브젝트로 원을 만들었을 때 원의 접선 방향으로 힘을 가해진다고 생각하자.)
	오브젝트의 상하 이동은 오브젝트의 월드 Up Down 방향으로 이뤄진다.
	오브젝트의 전후 이동은 D Pad의 Up Down 입력으로 이뤄진다. 운동 방향은 플레이어 - 오브젝트 방향이다.
	플레이어 - 오브젝트의 방향이 음수면 능력이 취소된다.

	오브젝트를 회전할 때는 각속도를 주는 것으로 이뤄진다.
	

오브젝트의 회전도 마찬가지로
플레이어 '모델' 기준으로 오브젝트의 회전을 구하고 (타겟 로컬 회전)
오브젝트는 [타겟 월드 회전]을 향해 회전하려고 한다.